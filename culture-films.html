<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>Culture — Films</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Merriweather:wght@300;700&display=swap" rel="stylesheet">
  <style>
    :root{--maxw:760px;--bg:#fff;--text:#111827;--muted:#6b7280;--accent:#1f2937}
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial;line-height:1.7}
    header{background:#8b0000;border-bottom:1px solid #7a0000}
    .wrap{max-width:var(--maxw);margin:0 auto;padding:18px 20px;display:flex;align-items:center;justify-content:space-between}
    h1{margin:0;font-family:Merriweather,serif;font-size:20px;font-weight:700;color:#fff}
    nav{display:flex;gap:12px;align-items:center}
    nav a{color:#f3f4f6;text-decoration:none;font-size:14px}
    nav a:hover{text-decoration:underline}
    main{max-width:var(--maxw);margin:36px auto;padding:0 20px}
    h2{font-family:Merriweather,serif;font-size:18px;margin:0 0 8px}
    article{margin-bottom:20px}
    .meta{color:var(--muted);font-size:13px;margin-bottom:6px}
    footer{border-top:1px solid #e5e7eb;text-align:center;font-size:14px;color:var(--muted);padding:18px 20px}
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <h1>Blog de l'intranquilité</h1>
      <nav aria-label="Navigation principale">
        <a href="index.html">Accueil</a>
        <a href="culture-films.html">Films</a>
        <a href="culture-livres.html">Livres</a>
        <a href="culture-musiques.html">Musiques</a>
        <a href="projets-libres-pensees.html">Projets</a>
      </nav>
    </div>
  </header>

  <main>
    <h2>Films — Sélection</h2>

    <article>
      <h3>Stalker</h3>
      <p class="meta">Andreï Tarkovski — 1979</p>
      <p>Un film métaphysique et hypnotique qui interroge le désir, la foi et l’espace intérieur.</p>
    </article>

    <article>
      <h3>Le Septième Sceau</h3>
      <p class="meta">Ingmar Bergman — 1957</p>
      <p>Une méditation sur la mort et le sens de l’existence à travers une partie d’échecs allégorique.</p>
    </article>

    <!-- Ajoute tes films ici -->
  </main>
  <p>
  <a
    href="https://github.com/TON_USER/TON_REPO/issues/new?template=film.md"
    target="_blank"
    rel="noopener"
  >
    ➕ Proposer un film
  </a>
</p>

<!-- place this where you want the list to appear -->
<div id="proposals-list">Chargement…</div>


<!-- marked.js pour convertir markdown en html -->
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script>
async function loadProposals(section) {
const container = document.getElementById('proposals-list');
container.innerHTML = 'Chargement…';
try {
const idx = await fetch('/content/index.json').then(r => r.json());
const items = idx.filter(i => i.section === section);
if (items.length === 0) { container.innerHTML = '<p>Aucune proposition.</p>'; return; }


// render each item
const parts = await Promise.all(items.map(async it => {
const md = await fetch('/' + it.path).then(r => r.ok ? r.text() : '');
// remove frontmatter
const mdNoFm = md.replace(/^---[\s\S]*?---\n?/, '');
const html = marked.parse(mdNoFm);
const title = it.title || extractTitle(mdNoFm) || 'Sans titre';
const meta = (it.author_issue ? `<div class="meta">Par: ${escapeHtml(it.author_issue)} — ${escapeHtml(it.created_at||'')}</div>` : '');
return `<article class="proposal">\n <h3>${escapeHtml(title)}</h3>\n ${meta}\n <div class="content">${html}</div>\n</article>`;
}));


container.innerHTML = parts.join('\n');
} catch (err) {
container.innerHTML = '<p>Erreur de chargement.</p>';
console.error(err);
}
}
  <footer>
    © <span id="year"></span> — Blog personnel
  </footer>

  <script>document.getElementById('year').textContent = new Date().getFullYear();</script>
</body>
</html>

  <script>document.getElementById('year').textContent = new Date().getFullYear();</script>
</body>

</html>
